{"ast":null,"code":"import React,{useState}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,TextField,IconButton,Box,Grid}from'@mui/material';import AddIcon from'@mui/icons-material/Add';import DeleteIcon from'@mui/icons-material/Delete';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import DragIndicatorIcon from'@mui/icons-material/DragIndicator';import{PrimaryButton,SecondaryButton}from'./CommonButtons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoEditor=_ref=>{let{initialVideos,onSave,onCancel}=_ref;const[videos,setVideos]=useState(initialVideos);const handleAddVideo=()=>{setVideos([...videos,{id:'',title:''}]);};const handleVideoChange=(index,key,value)=>{const newVideos=[...videos];newVideos[index][key]=value;setVideos(newVideos);};const handleRemoveVideo=index=>{const newVideos=[...videos];newVideos.splice(index,1);setVideos(newVideos);};const handleDragEnd=result=>{if(!result.destination)return;const items=Array.from(videos);const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setVideos(items);};return/*#__PURE__*/_jsxs(Dialog,{open:true,onClose:onCancel,fullWidth:true,maxWidth:\"md\",children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"\\u52D5\\u753B\\u3092\\u7DE8\\u96C6\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"videos\",children:provided=>/*#__PURE__*/_jsxs(Box,{...provided.droppableProps,ref:provided.innerRef,children:[videos.map((video,index)=>/*#__PURE__*/_jsx(Draggable,{draggableId:\"video-\".concat(index),index:index,children:provided=>/*#__PURE__*/_jsx(Box,{ref:provided.innerRef,...provided.draggableProps,sx:{mb:3,p:2,border:'1px solid #ccc',borderRadius:2,backgroundColor:'#f9f9f9'},children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{...provided.dragHandleProps,children:/*#__PURE__*/_jsx(DragIndicatorIcon,{})})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:true,children:[/*#__PURE__*/_jsx(TextField,{label:\"\\u52D5\\u753B \".concat(index+1,\" \\u306EID\"),variant:\"outlined\",fullWidth:true,value:video.id,onChange:e=>handleVideoChange(index,'id',e.target.value),placeholder:\"\\u52D5\\u753BID\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u52D5\\u753B \".concat(index+1,\" \\u306E\\u30BF\\u30A4\\u30C8\\u30EB\"),variant:\"outlined\",fullWidth:true,value:video.title,onChange:e=>handleVideoChange(index,'title',e.target.value),placeholder:\"\\u52D5\\u753B\\u30BF\\u30A4\\u30C8\\u30EB\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\",sx:{mt:1}})]}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleRemoveVideo(index),children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]})})},index)),provided.placeholder]})})}),/*#__PURE__*/_jsx(SecondaryButton,{startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleAddVideo,sx:{mt:2},children:\"\\u52D5\\u753B\\u3092\\u8FFD\\u52A0\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(SecondaryButton,{onClick:onCancel,children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"}),/*#__PURE__*/_jsx(PrimaryButton,{onClick:()=>onSave(videos),children:\"\\u4FDD\\u5B58\"})]})]});};export default VideoEditor;","map":{"version":3,"names":["React","useState","Dialog","DialogTitle","DialogContent","DialogActions","TextField","IconButton","Box","Grid","AddIcon","DeleteIcon","DragDropContext","Droppable","Draggable","DragIndicatorIcon","PrimaryButton","SecondaryButton","jsx","_jsx","jsxs","_jsxs","VideoEditor","_ref","initialVideos","onSave","onCancel","videos","setVideos","handleAddVideo","id","title","handleVideoChange","index","key","value","newVideos","handleRemoveVideo","splice","handleDragEnd","result","destination","items","Array","from","reorderedItem","source","open","onClose","fullWidth","maxWidth","children","onDragEnd","droppableId","provided","droppableProps","ref","innerRef","map","video","draggableId","concat","draggableProps","sx","mb","p","border","borderRadius","backgroundColor","container","alignItems","spacing","item","dragHandleProps","xs","label","variant","onChange","e","target","placeholder","mt","onClick","startIcon"],"sources":["/Users/sensuiryousuke/Documents/GitHub/video-survey-app/src/components/VideoEditor.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, TextField, IconButton, Box, Grid } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\nimport { PrimaryButton, SecondaryButton } from './CommonButtons';\n\nconst VideoEditor = ({ initialVideos, onSave, onCancel }) => {\n  const [videos, setVideos] = useState(initialVideos);\n\n  const handleAddVideo = () => {\n    setVideos([...videos, { id: '', title: '' }]);\n  };\n\n  const handleVideoChange = (index, key, value) => {\n    const newVideos = [...videos];\n    newVideos[index][key] = value;\n    setVideos(newVideos);\n  };\n\n  const handleRemoveVideo = (index) => {\n    const newVideos = [...videos];\n    newVideos.splice(index, 1);\n    setVideos(newVideos);\n  };\n\n  const handleDragEnd = (result) => {\n    if (!result.destination) return;\n    const items = Array.from(videos);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n    setVideos(items);\n  };\n\n  return (\n    <Dialog open onClose={onCancel} fullWidth maxWidth=\"md\">\n      <DialogTitle>動画を編集</DialogTitle>\n      <DialogContent>\n        <DragDropContext onDragEnd={handleDragEnd}>\n          <Droppable droppableId=\"videos\">\n            {(provided) => (\n              <Box {...provided.droppableProps} ref={provided.innerRef}>\n                {videos.map((video, index) => (\n                  <Draggable key={index} draggableId={`video-${index}`} index={index}>\n                    {(provided) => (\n                      <Box\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        sx={{ mb: 3, p: 2, border: '1px solid #ccc', borderRadius: 2, backgroundColor: '#f9f9f9' }}\n                      >\n                        <Grid container alignItems=\"center\" spacing={1}>\n                          <Grid item>\n                            <IconButton {...provided.dragHandleProps}>\n                              <DragIndicatorIcon />\n                            </IconButton>\n                          </Grid>\n                          <Grid item xs>\n                            <TextField\n                              label={`動画 ${index + 1} のID`}\n                              variant=\"outlined\"\n                              fullWidth\n                              value={video.id}\n                              onChange={(e) => handleVideoChange(index, 'id', e.target.value)}\n                              placeholder=\"動画IDを入力してください\"\n                            />\n                            <TextField\n                              label={`動画 ${index + 1} のタイトル`}\n                              variant=\"outlined\"\n                              fullWidth\n                              value={video.title}\n                              onChange={(e) => handleVideoChange(index, 'title', e.target.value)}\n                              placeholder=\"動画タイトルを入力してください\"\n                              sx={{ mt: 1 }}\n                            />\n                          </Grid>\n                          <Grid item>\n                            <IconButton onClick={() => handleRemoveVideo(index)}>\n                              <DeleteIcon />\n                            </IconButton>\n                          </Grid>\n                        </Grid>\n                      </Box>\n                    )}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </Box>\n            )}\n          </Droppable>\n        </DragDropContext>\n        <SecondaryButton startIcon={<AddIcon />} onClick={handleAddVideo} sx={{ mt: 2 }}>\n          動画を追加\n        </SecondaryButton>\n      </DialogContent>\n      <DialogActions>\n        <SecondaryButton onClick={onCancel}>キャンセル</SecondaryButton>\n        <PrimaryButton onClick={() => onSave(videos)}>\n          保存\n        </PrimaryButton>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default VideoEditor;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,WAAW,CAAEC,aAAa,CAAEC,aAAa,CAAEC,SAAS,CAAEC,UAAU,CAAEC,GAAG,CAAEC,IAAI,KAAQ,eAAe,CACnH,MAAO,CAAAC,OAAO,KAAM,yBAAyB,CAC7C,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,OAASC,eAAe,CAAEC,SAAS,CAAEC,SAAS,KAAQ,qBAAqB,CAC3E,MAAO,CAAAC,iBAAiB,KAAM,mCAAmC,CACjE,OAASC,aAAa,CAAEC,eAAe,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjE,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,aAAa,CAAEC,MAAM,CAAEC,QAAS,CAAC,CAAAH,IAAA,CACtD,KAAM,CAACI,MAAM,CAAEC,SAAS,CAAC,CAAG3B,QAAQ,CAACuB,aAAa,CAAC,CAEnD,KAAM,CAAAK,cAAc,CAAGA,CAAA,GAAM,CAC3BD,SAAS,CAAC,CAAC,GAAGD,MAAM,CAAE,CAAEG,EAAE,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAG,CAAC,CAAC,CAAC,CAC/C,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAACC,KAAK,CAAEC,GAAG,CAAEC,KAAK,GAAK,CAC/C,KAAM,CAAAC,SAAS,CAAG,CAAC,GAAGT,MAAM,CAAC,CAC7BS,SAAS,CAACH,KAAK,CAAC,CAACC,GAAG,CAAC,CAAGC,KAAK,CAC7BP,SAAS,CAACQ,SAAS,CAAC,CACtB,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIJ,KAAK,EAAK,CACnC,KAAM,CAAAG,SAAS,CAAG,CAAC,GAAGT,MAAM,CAAC,CAC7BS,SAAS,CAACE,MAAM,CAACL,KAAK,CAAE,CAAC,CAAC,CAC1BL,SAAS,CAACQ,SAAS,CAAC,CACtB,CAAC,CAED,KAAM,CAAAG,aAAa,CAAIC,MAAM,EAAK,CAChC,GAAI,CAACA,MAAM,CAACC,WAAW,CAAE,OACzB,KAAM,CAAAC,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACjB,MAAM,CAAC,CAChC,KAAM,CAACkB,aAAa,CAAC,CAAGH,KAAK,CAACJ,MAAM,CAACE,MAAM,CAACM,MAAM,CAACb,KAAK,CAAE,CAAC,CAAC,CAC5DS,KAAK,CAACJ,MAAM,CAACE,MAAM,CAACC,WAAW,CAACR,KAAK,CAAE,CAAC,CAAEY,aAAa,CAAC,CACxDjB,SAAS,CAACc,KAAK,CAAC,CAClB,CAAC,CAED,mBACErB,KAAA,CAACnB,MAAM,EAAC6C,IAAI,MAACC,OAAO,CAAEtB,QAAS,CAACuB,SAAS,MAACC,QAAQ,CAAC,IAAI,CAAAC,QAAA,eACrDhC,IAAA,CAAChB,WAAW,EAAAgD,QAAA,CAAC,gCAAK,CAAa,CAAC,cAChC9B,KAAA,CAACjB,aAAa,EAAA+C,QAAA,eACZhC,IAAA,CAACP,eAAe,EAACwC,SAAS,CAAEb,aAAc,CAAAY,QAAA,cACxChC,IAAA,CAACN,SAAS,EAACwC,WAAW,CAAC,QAAQ,CAAAF,QAAA,CAC3BG,QAAQ,eACRjC,KAAA,CAACb,GAAG,KAAK8C,QAAQ,CAACC,cAAc,CAAEC,GAAG,CAAEF,QAAQ,CAACG,QAAS,CAAAN,QAAA,EACtDxB,MAAM,CAAC+B,GAAG,CAAC,CAACC,KAAK,CAAE1B,KAAK,gBACvBd,IAAA,CAACL,SAAS,EAAa8C,WAAW,UAAAC,MAAA,CAAW5B,KAAK,CAAG,CAACA,KAAK,CAAEA,KAAM,CAAAkB,QAAA,CAC/DG,QAAQ,eACRnC,IAAA,CAACX,GAAG,EACFgD,GAAG,CAAEF,QAAQ,CAACG,QAAS,IACnBH,QAAQ,CAACQ,cAAc,CAC3BC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,MAAM,CAAE,gBAAgB,CAAEC,YAAY,CAAE,CAAC,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAjB,QAAA,cAE3F9B,KAAA,CAACZ,IAAI,EAAC4D,SAAS,MAACC,UAAU,CAAC,QAAQ,CAACC,OAAO,CAAE,CAAE,CAAApB,QAAA,eAC7ChC,IAAA,CAACV,IAAI,EAAC+D,IAAI,MAAArB,QAAA,cACRhC,IAAA,CAACZ,UAAU,KAAK+C,QAAQ,CAACmB,eAAe,CAAAtB,QAAA,cACtChC,IAAA,CAACJ,iBAAiB,GAAE,CAAC,CACX,CAAC,CACT,CAAC,cACPM,KAAA,CAACZ,IAAI,EAAC+D,IAAI,MAACE,EAAE,MAAAvB,QAAA,eACXhC,IAAA,CAACb,SAAS,EACRqE,KAAK,iBAAAd,MAAA,CAAQ5B,KAAK,CAAG,CAAC,aAAO,CAC7B2C,OAAO,CAAC,UAAU,CAClB3B,SAAS,MACTd,KAAK,CAAEwB,KAAK,CAAC7B,EAAG,CAChB+C,QAAQ,CAAGC,CAAC,EAAK9C,iBAAiB,CAACC,KAAK,CAAE,IAAI,CAAE6C,CAAC,CAACC,MAAM,CAAC5C,KAAK,CAAE,CAChE6C,WAAW,CAAC,sEAAe,CAC5B,CAAC,cACF7D,IAAA,CAACb,SAAS,EACRqE,KAAK,iBAAAd,MAAA,CAAQ5B,KAAK,CAAG,CAAC,mCAAS,CAC/B2C,OAAO,CAAC,UAAU,CAClB3B,SAAS,MACTd,KAAK,CAAEwB,KAAK,CAAC5B,KAAM,CACnB8C,QAAQ,CAAGC,CAAC,EAAK9C,iBAAiB,CAACC,KAAK,CAAE,OAAO,CAAE6C,CAAC,CAACC,MAAM,CAAC5C,KAAK,CAAE,CACnE6C,WAAW,CAAC,4FAAiB,CAC7BjB,EAAE,CAAE,CAAEkB,EAAE,CAAE,CAAE,CAAE,CACf,CAAC,EACE,CAAC,cACP9D,IAAA,CAACV,IAAI,EAAC+D,IAAI,MAAArB,QAAA,cACRhC,IAAA,CAACZ,UAAU,EAAC2E,OAAO,CAAEA,CAAA,GAAM7C,iBAAiB,CAACJ,KAAK,CAAE,CAAAkB,QAAA,cAClDhC,IAAA,CAACR,UAAU,GAAE,CAAC,CACJ,CAAC,CACT,CAAC,EACH,CAAC,CACJ,CACN,EAvCasB,KAwCL,CACZ,CAAC,CACDqB,QAAQ,CAAC0B,WAAW,EAClB,CACN,CACQ,CAAC,CACG,CAAC,cAClB7D,IAAA,CAACF,eAAe,EAACkE,SAAS,cAAEhE,IAAA,CAACT,OAAO,GAAE,CAAE,CAACwE,OAAO,CAAErD,cAAe,CAACkC,EAAE,CAAE,CAAEkB,EAAE,CAAE,CAAE,CAAE,CAAA9B,QAAA,CAAC,gCAEjF,CAAiB,CAAC,EACL,CAAC,cAChB9B,KAAA,CAAChB,aAAa,EAAA8C,QAAA,eACZhC,IAAA,CAACF,eAAe,EAACiE,OAAO,CAAExD,QAAS,CAAAyB,QAAA,CAAC,gCAAK,CAAiB,CAAC,cAC3DhC,IAAA,CAACH,aAAa,EAACkE,OAAO,CAAEA,CAAA,GAAMzD,MAAM,CAACE,MAAM,CAAE,CAAAwB,QAAA,CAAC,cAE9C,CAAe,CAAC,EACH,CAAC,EACV,CAAC,CAEb,CAAC,CAED,cAAe,CAAA7B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}